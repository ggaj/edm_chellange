(self.webpackChunkedm_front=self.webpackChunkedm_front||[]).push([[90],{1090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DeviceModule:()=>F});var n=r(5530),i=r(1462),o=r(1116),l=r(1190),s=r(5366),c=r(9407),u=r(529),a=r(2693);let d=(()=>{class e{constructor(e){this.httpClient=e}index(){return this.httpClient.get(`${u.N.baseUrl}/device`)}delete(e){return this.httpClient.delete(`${u.N.baseUrl}/device/${e}`)}create(e){return this.httpClient.post(`${u.N.baseUrl}/device`,e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=r(3524),p=r(944);function Z(e,t){if(1&e&&(s.TgZ(0,"option",15),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",e.id),s.xp6(1),s.hij(" ",e.name," ")}}function m(e,t){if(1&e&&(s.TgZ(0,"div"),s._UZ(1,"app-alert-error",16),s.qZA()),2&e){const e=s.oxw();let t;s.xp6(1),s.Q6J("visible",null==(t=e.deviceForm.get("categoryId"))||null==t.errors?null:t.errors.required)}}function f(e,t){if(1&e&&(s.TgZ(0,"div"),s._UZ(1,"app-alert-error",17),s._UZ(2,"app-alert-error",18),s._UZ(3,"app-alert-error",19),s.qZA()),2&e){const e=s.oxw();let t,r,n;s.xp6(1),s.Q6J("visible",null==(t=e.deviceForm.get("color"))||null==t.errors?null:t.errors.required),s.xp6(1),s.Q6J("visible",null==(r=e.deviceForm.get("color"))||null==r.errors?null:r.errors.maxLength),s.xp6(1),s.Q6J("visible",null==(n=e.deviceForm.get("color"))||null==n.errors?null:n.errors.pattern)}}function h(e,t){if(1&e&&(s.TgZ(0,"div"),s._UZ(1,"app-alert-error",20),s._UZ(2,"app-alert-error",21),s.qZA()),2&e){const e=s.oxw();let t,r;s.xp6(1),s.Q6J("visible",null==(t=e.deviceForm.get("partNumber"))||null==t.errors?null:t.errors.required),s.xp6(1),s.Q6J("visible",null==(r=e.deviceForm.get("partNumber"))||null==r.errors?null:r.errors.min)}}const b=function(){return["/devices"]};let v=(()=>{class e{constructor(e,t,r,n){this.categoryService=e,this.deviceService=t,this.router=r,this.formBuilder=n}ngOnInit(){this.loading=!1,this.categories=this.categoryService.index(),this.deviceForm=this.formBuilder.group({categoryId:[null,i.kI.required],color:[null,[i.kI.required,i.kI.maxLength(16),i.kI.pattern("^[a-zA-Z]*$")]],partNumber:[null,[i.kI.required,i.kI.min(1)]]})}onSubmit(){this.loading=!0;const e=this.deviceForm.getRawValue();this.deviceService.create(e).subscribe(()=>{this.onReset(),this.router.navigateByUrl("devices")},e=>console.error(e),()=>this.loading=!1)}onReset(){this.deviceForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(c.H),s.Y36(d),s.Y36(l.F0),s.Y36(i.qu))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-create-device"]],decls:26,vars:11,consts:[[1,"header"],["type","button",1,"btn","btn-secondary",3,"routerLink"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","category"],["formControlName","categoryId",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row"],[1,"form-group","col-sm-6"],["for","color"],["type","text","autocomplete","off","formControlName","color","maxlength","16",1,"form-control"],["for","partNumber"],["type","number","formControlName","partNumber",1,"form-control"],["display","Save",3,"loading","disabled"],[3,"value"],["message","Category is required",3,"visible"],["message","Color is required",3,"visible"],["message","Character limit exceeded - 16",3,"visible"],["message","Only letters - [a-zA-Z]",3,"visible"],["message","Part number is required",3,"visible"],["message","Part number must more the than zero",3,"visible"]],template:function(e,t){if(1&e&&(s.TgZ(0,"section"),s.TgZ(1,"div",0),s.TgZ(2,"h2"),s._uU(3,"Device register"),s.qZA(),s.TgZ(4,"button",1),s._uU(5,"Back"),s.qZA(),s.qZA(),s.TgZ(6,"form",2),s.NdJ("ngSubmit",function(){return t.onSubmit()}),s.TgZ(7,"div",3),s.TgZ(8,"label",4),s._uU(9,"Select category"),s.qZA(),s.TgZ(10,"select",5),s.YNc(11,Z,2,2,"option",6),s.ALo(12,"async"),s.qZA(),s.YNc(13,m,2,1,"div",7),s.qZA(),s.TgZ(14,"div",8),s.TgZ(15,"div",9),s.TgZ(16,"label",10),s._uU(17,"Color"),s.qZA(),s._UZ(18,"input",11),s.YNc(19,f,4,3,"div",7),s.qZA(),s.TgZ(20,"div",9),s.TgZ(21,"label",12),s._uU(22,"Part Number"),s.qZA(),s._UZ(23,"input",13),s.YNc(24,h,3,2,"div",7),s.qZA(),s.qZA(),s._UZ(25,"app-btn-save",14),s.qZA(),s.qZA()),2&e){let e,r,n;s.xp6(4),s.Q6J("routerLink",s.DdM(10,b)),s.xp6(2),s.Q6J("formGroup",t.deviceForm),s.xp6(5),s.Q6J("ngForOf",s.lcZ(12,8,t.categories)),s.xp6(2),s.Q6J("ngIf",null==(e=t.deviceForm.get("categoryId"))?null:e.touched),s.xp6(6),s.Q6J("ngIf",null==(r=t.deviceForm.get("color"))?null:r.touched),s.xp6(5),s.Q6J("ngIf",null==(n=t.deviceForm.get("partNumber"))?null:n.touched),s.xp6(1),s.Q6J("loading",t.loading)("disabled",!t.deviceForm.valid||t.loading)}},directives:[l.rH,i._Y,i.JL,i.sg,i.EJ,i.JJ,i.u,o.sg,o.O5,i.Fj,i.nD,i.wV,g.u,i.YN,i.Kr,p.A],pipes:[o.Ov],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.spacer[_ngcontent-%COMP%]{padding-left:10px}"]}),e})();var q=r(7388),A=r(3647);function T(e,t){1&e&&s._UZ(0,"div")}function y(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.TgZ(8,"button",10),s.NdJ("click",function(){const t=s.CHM(e).$implicit,r=s.oxw(2),n=s.MAs(24);return r.handleConfirmDelete(n,t.id)}),s._UZ(9,"i",11),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(2),s.Oqu(null==e.category?null:e.category.name),s.xp6(2),s.Oqu(e.color),s.xp6(2),s.Oqu(e.partNumber)}}function x(e,t){if(1&e&&(s.TgZ(0,"tbody"),s.YNc(1,y,10,3,"tr",9),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.devices)}}function _(e,t){1&e&&(s.TgZ(0,"tbody"),s.TgZ(1,"tr"),s.TgZ(2,"td",12),s._UZ(3,"app-loading"),s.qZA(),s.qZA(),s.qZA())}function C(e,t){1&e&&(s.TgZ(0,"tbody"),s.TgZ(1,"tr"),s.TgZ(2,"td",12),s._uU(3," No data found "),s.qZA(),s.qZA(),s.qZA())}function U(e,t){if(1&e&&s.YNc(0,C,4,0,"tbody",13),2&e){const e=s.oxw();s.Q6J("ngIf",!e.loading)}}function N(e,t){1&e&&(s.TgZ(0,"div",14),s.TgZ(1,"h4",15),s._uU(2,"Confirmation"),s.qZA(),s.TgZ(3,"button",16),s.NdJ("click",function(){return(0,t.dismiss)("Cross click")}),s.TgZ(4,"span",17),s._uU(5,"\xd7"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"div",18),s.TgZ(7,"p"),s._uU(8,"Are you sure to delete this?"),s.qZA(),s.qZA(),s.TgZ(9,"div",19),s.TgZ(10,"button",20),s.NdJ("click",function(){return(0,t.dismiss)("Cross click")}),s._uU(11,"Cancel"),s.qZA(),s.TgZ(12,"button",20),s.NdJ("click",function(){return(0,t.close)("yes")}),s._uU(13,"Yes"),s.qZA(),s.qZA())}const I=function(){return["create"]},J=[{path:"",component:(()=>{class e{constructor(e,t){this.service=e,this.modalService=t,this.devices=[]}ngOnInit(){this.loading=!0,this.handleIndex()}handleConfirmDelete(e,t=0){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{this.closeResult=`Closed with: ${e}`,"yes"===e&&this.handleDelete(t)},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}getDismissReason(e){return e===q.If.ESC?"by pressing ESC":e===q.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}handleDelete(e){this.service.delete(e).subscribe(()=>this.handleIndex())}handleIndex(){this.service.index().subscribe(e=>{this.devices=e},e=>{console.log(e)},()=>this.loading=!1)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(d),s.Y36(q.FF))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-list-device"]],decls:25,vars:6,consts:[[1,"header"],["type","button",1,"btn","btn-success",3,"routerLink"],[1,"table","table-hover"],["scope","col"],[4,"ngIf","ngIfThen"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],["emptyTable",""],["content",""],[4,"ngFor","ngForOf"],["type","button","href","javascript:void(0);",1,"btn","btn-danger","btn-block",3,"click"],[1,"bi","bi-trash"],["colspan","4",1,"t-center"],[4,"ngIf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){if(1&e&&(s.TgZ(0,"section"),s.TgZ(1,"div",0),s.TgZ(2,"h2"),s._uU(3,"Device listing"),s.qZA(),s.TgZ(4,"button",1),s._uU(5,"New"),s.qZA(),s.qZA(),s.TgZ(6,"table",2),s.TgZ(7,"thead"),s.TgZ(8,"tr"),s.TgZ(9,"th",3),s._uU(10,"Category"),s.qZA(),s.TgZ(11,"th",3),s._uU(12,"Color"),s.qZA(),s.TgZ(13,"th",3),s._uU(14,"PartNumber"),s.qZA(),s.TgZ(15,"th",3),s._uU(16,"Action"),s.qZA(),s.qZA(),s.qZA(),s.YNc(17,T,1,0,"div",4),s.YNc(18,x,2,1,"tbody",5),s.qZA(),s.YNc(19,_,4,0,"ng-template",null,6,s.W1O),s.YNc(21,U,1,1,"ng-template",null,7,s.W1O),s.qZA(),s.YNc(23,N,14,0,"ng-template",null,8,s.W1O)),2&e){const e=s.MAs(20),r=s.MAs(22);s.xp6(4),s.Q6J("routerLink",s.DdM(5,I)),s.xp6(13),s.Q6J("ngIf",t.loading)("ngIfThen",e),s.xp6(1),s.Q6J("ngIf",t.devices.length>0)("ngIfElse",r)}},directives:[l.rH,o.O5,o.sg,A.N],styles:["table[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{padding-bottom:10px;display:flex;justify-content:space-between}.text-center[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:18px;padding:20px 0}.perc-07[_ngcontent-%COMP%]{width:auto}.perc-30[_ngcontent-%COMP%]{width:310%}.perc-22[_ngcontent-%COMP%]{width:22%}"]}),e})()},{path:"create",component:v}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[l.Bz.forChild(J)],l.Bz]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,k,i.u5,i.UX,n.K]]}),e})()}}]);